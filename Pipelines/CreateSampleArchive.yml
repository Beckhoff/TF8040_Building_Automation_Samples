#------------------------------------------------------------------------------------------------------------------------------------------------------------------------
# Parameters
#------------------------------------------------------------------------------------------------------------------------------------------------------------------------
parameters:

- name: version
  type: string
- name: sampleName
  type: string
- name: archivesFolder
  type: string

steps:

#------------------------------------------------------------------------------------
# Archive HMI project
#------------------------------------------------------------------------------------
- task: ArchiveFiles@2
  displayName: Archive HMI of ${{parameters.sampleName}}
  inputs:
    rootFolderOrFile: ./${{parameters.sampleName}}/HMI
    includeRootFolder: false
    archiveType: zip
    archiveFile: ${{parameters.archivesFolder}}/${{parameters.sampleName}}/TF8040 ${{parameters.sampleName}} HMI.zip

#------------------------------------------------------------------------------------
# Archive PLC project
#------------------------------------------------------------------------------------
- task: ArchiveFiles@2
  displayName: Archive PLC of ${{parameters.sampleName}}
  inputs:
    rootFolderOrFile: ./${{parameters.sampleName}}/PLC
    includeRootFolder: false
    archiveType: zip
    archiveFile: ${{parameters.archivesFolder}}/${{parameters.sampleName}}/TF8040 ${{parameters.sampleName}} PLC.zip